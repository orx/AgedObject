; AgedObject - Template basic config file
; Assets:
;  . coin_gold.png by Clint Bellanger for Liberated Pixel Art (CC-BY 3.0)

[Display]
Title           = AgedObject
ScreenWidth     = @MainCamera.FrustumWidth
ScreenHeight    = @MainCamera.FrustumHeight
FullScreen      = false
Smoothing       = false
VSync           = true

[Resource]
Texture         = ../data/texture
Sound           = ../data/sound

[Input]
SetList         = MainInput

[MainInput]
KEY_ESCAPE      = Quit
KEY_ENTER       = Reload

[MainViewport]
Camera          = MainCamera

[MainCamera]
FrustumWidth    = 1280
FrustumHeight   = 720
FrustumFar      = 2
FrustumNear     = 0
Position        = (0, 0, -1) ; Objects with -1 <= Z <= 1 will be visible

[Scene]
ChildList       = Coins # AgedCoins # CoinShower # AgedCoinShower
Size            = (1280, 720, 1)

; === Base Coin ===

[Coin]
Graphic         = @
Texture         = coin_gold.png
KeepInCache     = true
Size            = (32, 32)
AnimationSet    = CoinAnimSet
Position        = (-0.4, -0.4) ~(0.02, 0.02)~ (0.4, 0.4)
UseParentSpace  = position
Scale           = 2
TrackList       = CoinTrack

[CoinTrack]
0               = > Object.GetPosition ^ true, > Vector.Y <, > * < -0.001, > Object.GetPosition ^, > * < (1, 1, 0), > + < (0, 0, <), Object.SetPosition ^ <

[CoinAnimSet]
StartAnim       = Idle
Texture         = coin_gold.png
FrameSize       = (32, 32)
KeyDuration     = 0.08
Pivot           = center

; === Scene: Regular Coins ===

[Coins]
Graphic         = @
Texture         = pixel
HSV             = (0.56, 0.32, 0.74)
Size            = (640, 360)
Pivot           = center
UseParentSpace  = true
Position        = (-0.25, 0.25)
ChildList       = CoinsLabel
Spawner         = CoinSpawner

[CoinSpawner]
Object          = Coin
TotalObject     = 20
WaveSize        = @.TotalObject
WaveDelay       = 0
UseSelfAsParent = true
CleanOnDelete   = true

[CoinsLabel]
Scale           = 2
Graphic         = @
Text            = @
String          = Coins
UseParentSpace  = position
Position        = (0, 0.45, -1)
Pivot           = bottom

; === Scene: Aged Coins ===

[AgedCoins@Coins]
HSV             = % > Get Coins HSV, * < (1, 1, 0.5)
Position        = (0.25, 0.25)
ChildList       = AgedCoinsLabel
Spawner         = AgedCoinSpawner

[AgedCoinSpawner@CoinSpawner]
Object          = AgedCoin

[AgedCoin@Coin]
Age             = 0 ~ 0.8

[AgedCoinsLabel@CoinsLabel]
String          = Aged Coins

; === Scene: Regular Coin Shower ===

[ShadowlessCoin@Coin]
AnimationSet    = ShadowlessCoinAnimSet
Position        = (-0.4, -0.6, -0.1) ~ (0.4, -0.6, -0.1)
Speed           = (0, 70) ~ (0, 100)
LifeTime        = 6
TrackList       =

[ShadowlessCoinAnimSet@CoinAnimSet]
FrameSize       = (32, 24)

[CoinShower@Coins]
Position        = (-0.25, -0.25, 1)
HSV             = % > Get Coins HSV, - < (0.2, 0, 0)
ChildList       = CoinShowerLabel
Spawner         = CoinShowerSpawner

[CoinShowerSpawner@CoinSpawner]
Object          = ShadowlessCoin
TotalObject     = 0
WaveSize        = 1
WaveDelay       = 0.05

[CoinShowerLabel@CoinsLabel]
String          = Coin Shower

; === Scene: Aged Coin Shower ===

[AgedCoinShower@CoinShower]
HSV             = % > Get CoinShower HSV, * < (1, 1, 0.5)
Position        = (0.25, -0.25, 1)
ChildList       = AgedCoinShowerLabel
Age             = 5.8

[AgedCoinShowerLabel@CoinsLabel]
String          = Aged Coin Shower
